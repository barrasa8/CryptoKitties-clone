{"ast":null,"code":"import _regeneratorRuntime from\"/home/ismael/Documents/Projects/GIT/CryptoKitties-clone/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/ismael/Documents/Projects/GIT/CryptoKitties-clone/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";export var genesToDNA=function genesToDNA(gene){var dna={dnaarmleg:parseInt(gene.slice(0,2)),dnaeyepatch:parseInt(gene.slice(2,4)),dnainnerearfoot:parseInt(gene.slice(4,6)),dnaheadbody:parseInt(gene.slice(6,8)),//Pandatributes\ndnaeyeshape:parseInt(gene.slice(8,9)),dnamouthshape:parseInt(gene.slice(9,10)),decorationMidcolor:parseInt(gene.slice(10,12)),decorationSidescolor:parseInt(gene.slice(12,14)),animation:parseInt(gene.slice(14,15)),lastNum:parseInt(gene.slice(15,16))};return dna;};export var epochToUTCDate=function epochToUTCDate(epochTime){var date=new Date(epochTime*1000);return date.toUTCString();};export var getPanda=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(contract,accounts,tokenId){var _pandaItem,_panda;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return contract.methods.getPanda(tokenId).call({from:accounts[0]});case 2:_panda=_context.sent;_pandaItem={pandaTokenId:parseInt(tokenId),mumId:parseInt(_panda.mumId),dadId:parseInt(_panda.dadId),birthTime:parseInt(_panda.birthTime),generation:parseInt(_panda.generation),genes:parseInt(_panda.genes),dna:genesToDNA(_panda.genes)};return _context.abrupt(\"return\",_pandaItem);case 5:case\"end\":return _context.stop();}}},_callee);}));return function getPanda(_x,_x2,_x3){return _ref.apply(this,arguments);};}();export var getPandas=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(contract,accounts){var _pandaList,_pandaItem,PandaTokenIdArray,i;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_pandaList=[];_context2.next=3;return contract.methods._pandasOfOwner(accounts[0]).call({from:accounts[0]});case 3:PandaTokenIdArray=_context2.sent;i=0;case 5:if(!(i<PandaTokenIdArray.length)){_context2.next=13;break;}_context2.next=8;return getPanda(contract,accounts,parseInt(PandaTokenIdArray[i]));case 8:_pandaItem=_context2.sent;_pandaList.push(_pandaItem);case 10:i++;_context2.next=5;break;case 13:return _context2.abrupt(\"return\",_pandaList);case 14:case\"end\":return _context2.stop();}}},_callee2);}));return function getPandas(_x4,_x5){return _ref2.apply(this,arguments);};}();export var createPandaGen0=function createPandaGen0(contract,accounts,dna){contract.methods.createPandaGen0(dna).send({from:accounts[0]},function(error,txHash){if(error){console.log(error);}});};export var breed=function breed(contract,accounts,mumTokenId,dadTokenId){contract.methods.breed(mumTokenId,dadTokenId).send({from:accounts[0]},function(error,txHash){if(error){console.log(error);}});};export var getMarketOffers=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(pandaContract,marketContract,accounts){var _marketOfferList,_marketOfferItem,marketOffersArray,i,_offer,_panda;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_marketOfferList=[];_context3.next=3;return marketContract.methods.getAllTokenOnSale().call({from:accounts[0]});case 3:marketOffersArray=_context3.sent;i=0;case 5:if(!(i<marketOffersArray.length)){_context3.next=17;break;}_context3.next=8;return marketContract.methods.getOffer(marketOffersArray[i]).call({from:accounts[0]});case 8:_offer=_context3.sent;_context3.next=11;return pandaContract.methods.getPanda(_offer.tokenId).call({from:accounts[0]});case 11:_panda=_context3.sent;_marketOfferItem={seller:_offer.seller,price:parseInt(_offer.price),index:_offer.index,tokenId:parseInt(_offer.tokenId),active:_offer.active,mumId:parseInt(_panda.mumId),dadId:parseInt(_panda.dadId),birthTime:parseInt(_panda.birthTime),generation:parseInt(_panda.generation),genes:parseInt(_panda.genes),dna:genesToDNA(_panda.genes)};if(_marketOfferItem.active===true){_marketOfferList.push(_marketOfferItem);}case 14:i++;_context3.next=5;break;case 17:return _context3.abrupt(\"return\",_marketOfferList);case 18:case\"end\":return _context3.stop();}}},_callee3);}));return function getMarketOffers(_x6,_x7,_x8){return _ref3.apply(this,arguments);};}();export var setApprovalForAll=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(contract,marketContract,accounts,approvalFlag){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return contract.methods.setApprovalForAll(marketContract.options.address,approvalFlag).send({from:accounts[0]});case 3:_context4.next=8;break;case 5:_context4.prev=5;_context4.t0=_context4[\"catch\"](0);console.log(\"Error when setting approval\",_context4.t0);case 8:case\"end\":return _context4.stop();}}},_callee4,null,[[0,5]]);}));return function setApprovalForAll(_x9,_x10,_x11,_x12){return _ref4.apply(this,arguments);};}();export var setOffer=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(marketContract,accounts,price,tokenId){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return marketContract.methods.setOffer(price,tokenId).send({from:accounts[0]},function(error){if(error){console.log(error);}});case 2:case\"end\":return _context5.stop();}}},_callee5);}));return function setOffer(_x13,_x14,_x15,_x16){return _ref5.apply(this,arguments);};}();export var removeOffer=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(marketContract,accounts,tokenId){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return marketContract.methods.removeOffer(tokenId).send({from:accounts[0]},function(error){if(error){console.log(error);}});case 2:case\"end\":return _context6.stop();}}},_callee6);}));return function removeOffer(_x17,_x18,_x19){return _ref6.apply(this,arguments);};}();export var getActiveOfferCount=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(marketContract,accounts){var numberOfOffers;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return marketContract.methods.getActiveOfferCount().call({from:accounts[0]});case 2:numberOfOffers=_context7.sent;return _context7.abrupt(\"return\",numberOfOffers);case 4:case\"end\":return _context7.stop();}}},_callee7);}));return function getActiveOfferCount(_x20,_x21){return _ref7.apply(this,arguments);};}();export var getOffer=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(marketContract,accounts,tokenId){var _offer,_offerItem;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return marketContract.methods.getOffer(tokenId).call({from:accounts[0]});case 2:_offer=_context8.sent;_offerItem={seller:_offer.seller,price:parseInt(_offer.price),index:parseInt(_offer.index),tokenId:parseInt(_offer.tokenId),active:_offer.active};return _context8.abrupt(\"return\",_offerItem);case 5:case\"end\":return _context8.stop();}}},_callee8);}));return function getOffer(_x22,_x23,_x24){return _ref8.apply(this,arguments);};}();export var buyPanda=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(marketContract,accounts,tokenId,value){return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return marketContract.methods.buyPanda(tokenId).send({from:accounts[0],value:value});case 2:case\"end\":return _context9.stop();}}},_callee9);}));return function buyPanda(_x25,_x26,_x27,_x28){return _ref9.apply(this,arguments);};}();export var getTotalSupply=/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(contract,accounts){var _totalSupply;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.next=2;return contract.methods.totalSupply().call({from:accounts[0]});case 2:_totalSupply=_context10.sent;return _context10.abrupt(\"return\",_totalSupply);case 4:case\"end\":return _context10.stop();}}},_callee10);}));return function getTotalSupply(_x29,_x30){return _ref10.apply(this,arguments);};}();","map":{"version":3,"sources":["/home/ismael/Documents/Projects/GIT/CryptoKitties-clone/client/src/assets/js/utils.js"],"names":["genesToDNA","gene","dna","dnaarmleg","parseInt","slice","dnaeyepatch","dnainnerearfoot","dnaheadbody","dnaeyeshape","dnamouthshape","decorationMidcolor","decorationSidescolor","animation","lastNum","epochToUTCDate","epochTime","date","Date","toUTCString","getPanda","contract","accounts","tokenId","methods","call","from","_panda","_pandaItem","pandaTokenId","mumId","dadId","birthTime","generation","genes","getPandas","_pandaList","_pandasOfOwner","PandaTokenIdArray","i","length","push","createPandaGen0","send","error","txHash","console","log","breed","mumTokenId","dadTokenId","getMarketOffers","pandaContract","marketContract","_marketOfferList","getAllTokenOnSale","marketOffersArray","getOffer","_offer","_marketOfferItem","seller","price","index","active","setApprovalForAll","approvalFlag","options","address","setOffer","removeOffer","getActiveOfferCount","numberOfOffers","_offerItem","buyPanda","value","getTotalSupply","totalSupply","_totalSupply"],"mappings":"uWAAA,MAAO,IAAOA,CAAAA,UAAU,CAAC,QAAXA,CAAAA,UAAW,CAACC,IAAD,CAAS,CAC9B,GAAIC,CAAAA,GAAG,CAAG,CACNC,SAAS,CAAEC,QAAQ,CAACH,IAAI,CAACI,KAAL,CAAW,CAAX,CAAa,CAAb,CAAD,CADb,CAENC,WAAW,CAAEF,QAAQ,CAACH,IAAI,CAACI,KAAL,CAAW,CAAX,CAAa,CAAb,CAAD,CAFf,CAGNE,eAAe,CAAEH,QAAQ,CAACH,IAAI,CAACI,KAAL,CAAW,CAAX,CAAa,CAAb,CAAD,CAHnB,CAING,WAAW,CAAEJ,QAAQ,CAACH,IAAI,CAACI,KAAL,CAAW,CAAX,CAAa,CAAb,CAAD,CAJf,CAKN;AACAI,WAAW,CAAEL,QAAQ,CAACH,IAAI,CAACI,KAAL,CAAW,CAAX,CAAa,CAAb,CAAD,CANf,CAONK,aAAa,CAAEN,QAAQ,CAACH,IAAI,CAACI,KAAL,CAAW,CAAX,CAAa,EAAb,CAAD,CAPjB,CAQNM,kBAAkB,CAAEP,QAAQ,CAACH,IAAI,CAACI,KAAL,CAAW,EAAX,CAAc,EAAd,CAAD,CARtB,CASNO,oBAAoB,CAAER,QAAQ,CAACH,IAAI,CAACI,KAAL,CAAW,EAAX,CAAc,EAAd,CAAD,CATxB,CAUNQ,SAAS,CAAET,QAAQ,CAACH,IAAI,CAACI,KAAL,CAAW,EAAX,CAAc,EAAd,CAAD,CAVb,CAWNS,OAAO,CAAEV,QAAQ,CAACH,IAAI,CAACI,KAAL,CAAW,EAAX,CAAc,EAAd,CAAD,CAXX,CAAV,CAaA,MAAOH,CAAAA,GAAP,CACH,CAfM,CAiBP,MAAO,IAAOa,CAAAA,cAAc,CAAC,QAAfA,CAAAA,cAAe,CAACC,SAAD,CAAc,CAEvC,GAAIC,CAAAA,IAAI,CAAG,GAAIC,CAAAA,IAAJ,CAASF,SAAS,CAAC,IAAnB,CAAX,CACA,MAAOC,CAAAA,IAAI,CAACE,WAAL,EAAP,CACH,CAJM,CAMP,MAAQ,IAAMC,CAAAA,QAAQ,0FAAG,iBAAOC,QAAP,CAAiBC,QAAjB,CAA2BC,OAA3B,8JAGRF,CAAAA,QAAQ,CAACG,OAAT,CACZJ,QADY,CACHG,OADG,EAEZE,IAFY,CAEP,CAAEC,IAAI,CAAEJ,QAAQ,CAAC,CAAD,CAAhB,CAFO,CAHQ,QAGvBK,MAHuB,eAOvBC,UAAU,CAAG,CACXC,YAAY,CAAEzB,QAAQ,CAACmB,OAAD,CADX,CAEXO,KAAK,CAAE1B,QAAQ,CAACuB,MAAM,CAACG,KAAR,CAFJ,CAGXC,KAAK,CAAE3B,QAAQ,CAACuB,MAAM,CAACI,KAAR,CAHJ,CAIXC,SAAS,CAAE5B,QAAQ,CAACuB,MAAM,CAACK,SAAR,CAJR,CAKXC,UAAU,CAAE7B,QAAQ,CAACuB,MAAM,CAACM,UAAR,CALT,CAMXC,KAAK,CAAE9B,QAAQ,CAACuB,MAAM,CAACO,KAAR,CANJ,CAOXhC,GAAG,CAAEF,UAAU,CAAC2B,MAAM,CAACO,KAAR,CAPJ,CAAb,CAPuB,gCAiBhBN,UAjBgB,wDAAH,kBAARR,CAAAA,QAAQ,oDAAd,CAoBR,MAAQ,IAAMe,CAAAA,SAAS,2FAAG,kBAAOd,QAAP,CAAiBC,QAAjB,oKAClBc,UADkB,CACL,EADK,wBAKUf,CAAAA,QAAQ,CAACG,OAAT,CAC7Ba,cAD6B,CACdf,QAAQ,CAAC,CAAD,CADM,EAE7BG,IAF6B,CAExB,CAAEC,IAAI,CAAEJ,QAAQ,CAAC,CAAD,CAAhB,CAFwB,CALV,QAKhBgB,iBALgB,gBASbC,CATa,CAST,CATS,aASNA,CAAC,CAAGD,iBAAiB,CAACE,MAThB,mDAUDpB,CAAAA,QAAQ,CAACC,QAAD,CAAWC,QAAX,CAAqBlB,QAAQ,CAACkC,iBAAiB,CAACC,CAAD,CAAlB,CAA7B,CAVP,QAUpBX,UAVoB,gBAWpBQ,UAAU,CAACK,IAAX,CAAgBb,UAAhB,EAXoB,QASwBW,CAAC,EATzB,iEAcfH,UAde,2DAAH,kBAATD,CAAAA,SAAS,kDAAf,CAiBR,MAAO,IAAMO,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACrB,QAAD,CAAUC,QAAV,CAAmBpB,GAAnB,CAA0B,CACvDmB,QAAQ,CAACG,OAAT,CACCkB,eADD,CACiBxC,GADjB,EAECyC,IAFD,CAEM,CAAEjB,IAAI,CAAEJ,QAAQ,CAAC,CAAD,CAAhB,CAFN,CAE6B,SAACsB,KAAD,CAAQC,MAAR,CAAmB,CAC9C,GAAID,KAAJ,CAAW,CACTE,OAAO,CAACC,GAAR,CAAYH,KAAZ,EACD,CACF,CAND,EAOD,CARM,CAUP,MAAO,IAAMI,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAAC3B,QAAD,CAAUC,QAAV,CAAmB2B,UAAnB,CAA+BC,UAA/B,CAA6C,CAChE7B,QAAQ,CAACG,OAAT,CAAiBwB,KAAjB,CAAuBC,UAAvB,CAAkCC,UAAlC,EACKP,IADL,CACU,CAAEjB,IAAI,CAAEJ,QAAQ,CAAC,CAAD,CAAhB,CADV,CACiC,SAACsB,KAAD,CAAQC,MAAR,CAAmB,CAC9C,GAAID,KAAJ,CAAW,CACTE,OAAO,CAACC,GAAR,CAAYH,KAAZ,EACD,CACF,CALL,EAMD,CAPM,CASP,MAAQ,IAAMO,CAAAA,eAAe,2FAAG,kBAAOC,aAAP,CAAqBC,cAArB,CAAqC/B,QAArC,8LAC1BgC,gBAD0B,CACP,EADO,wBAIAD,CAAAA,cAAc,CAAC7B,OAAf,CAC3B+B,iBAD2B,GAE3B9B,IAF2B,CAEtB,CAAEC,IAAI,CAAEJ,QAAQ,CAAC,CAAD,CAAhB,CAFsB,CAJA,QAI1BkC,iBAJ0B,gBAQrBjB,CARqB,CAQlB,CARkB,aAQfA,CAAC,CAAGiB,iBAAiB,CAAChB,MARP,mDASTa,CAAAA,cAAc,CAAC7B,OAAf,CAChBiC,QADgB,CACPD,iBAAiB,CAACjB,CAAD,CADV,EAEhBd,IAFgB,CAEX,CAAEC,IAAI,CAAEJ,QAAQ,CAAC,CAAD,CAAhB,CAFW,CATS,QASxBoC,MATwB,wCAaTN,CAAAA,aAAa,CAAC5B,OAAd,CAChBJ,QADgB,CACPsC,MAAM,CAACnC,OADA,EAEhBE,IAFgB,CAEX,CAAEC,IAAI,CAAEJ,QAAQ,CAAC,CAAD,CAAhB,CAFW,CAbS,SAaxBK,MAbwB,gBAiB1BgC,gBAAgB,CAAG,CACjBC,MAAM,CAACF,MAAM,CAACE,MADG,CAEjBC,KAAK,CAACzD,QAAQ,CAACsD,MAAM,CAACG,KAAR,CAFG,CAGjBC,KAAK,CAACJ,MAAM,CAACI,KAHI,CAIjBvC,OAAO,CAACnB,QAAQ,CAACsD,MAAM,CAACnC,OAAR,CAJC,CAKjBwC,MAAM,CAACL,MAAM,CAACK,MALG,CAMjBjC,KAAK,CAAE1B,QAAQ,CAACuB,MAAM,CAACG,KAAR,CANE,CAOjBC,KAAK,CAAE3B,QAAQ,CAACuB,MAAM,CAACI,KAAR,CAPE,CAQjBC,SAAS,CAAE5B,QAAQ,CAACuB,MAAM,CAACK,SAAR,CARF,CASjBC,UAAU,CAAE7B,QAAQ,CAACuB,MAAM,CAACM,UAAR,CATH,CAUjBC,KAAK,CAAE9B,QAAQ,CAACuB,MAAM,CAACO,KAAR,CAVE,CAWjBhC,GAAG,CAAEF,UAAU,CAAC2B,MAAM,CAACO,KAAR,CAXE,CAAnB,CAaA,GAAGyB,gBAAgB,CAACI,MAAjB,GAA0B,IAA7B,CAAkC,CAChCT,gBAAgB,CAACb,IAAjB,CAAsBkB,gBAAtB,EACD,CAhCyB,QAQepB,CAAC,EARhB,iEAkCvBe,gBAlCuB,2DAAH,kBAAfH,CAAAA,eAAe,sDAArB,CAqCR,MAAO,IAAMa,CAAAA,iBAAiB,2FAAG,kBAAO3C,QAAP,CAAgBgC,cAAhB,CAA+B/B,QAA/B,CAAwC2C,YAAxC,8JAGvB5C,CAAAA,QAAQ,CAACG,OAAT,CAAiBwC,iBAAjB,CAAmCX,cAAc,CAACa,OAAf,CAAuBC,OAA1D,CAAkEF,YAAlE,EACHtB,IADG,CACE,CAAEjB,IAAI,CAAEJ,QAAQ,CAAC,CAAD,CAAhB,CADF,CAHuB,0FAO7BwB,OAAO,CAACC,GAAR,CAAY,6BAAZ,eAP6B,qEAAH,kBAAjBiB,CAAAA,iBAAiB,6DAAvB,CAWP,MAAO,IAAMI,CAAAA,QAAQ,2FAAG,kBAAOf,cAAP,CAAsB/B,QAAtB,CAA+BuC,KAA/B,CAAqCtC,OAArC,6IAChB8B,CAAAA,cAAc,CAAC7B,OAAf,CAAuB4C,QAAvB,CAAgCP,KAAhC,CAAsCtC,OAAtC,EACDoB,IADC,CACI,CAAEjB,IAAI,CAAEJ,QAAQ,CAAC,CAAD,CAAhB,CADJ,CAC2B,SAACsB,KAAD,CAAW,CAEtC,GAAIA,KAAJ,CAAW,CACTE,OAAO,CAACC,GAAR,CAAYH,KAAZ,EACD,CACF,CANC,CADgB,yDAAH,kBAARwB,CAAAA,QAAQ,8DAAd,CAUP,MAAO,IAAMC,CAAAA,WAAW,2FAAG,kBAAOhB,cAAP,CAAsB/B,QAAtB,CAA+BC,OAA/B,6IACnB8B,CAAAA,cAAc,CAAC7B,OAAf,CAAuB6C,WAAvB,CAAmC9C,OAAnC,EACDoB,IADC,CACI,CAAEjB,IAAI,CAAEJ,QAAQ,CAAC,CAAD,CAAhB,CADJ,CAC2B,SAACsB,KAAD,CAAW,CACtC,GAAIA,KAAJ,CAAW,CACTE,OAAO,CAACC,GAAR,CAAYH,KAAZ,EACD,CACF,CALC,CADmB,yDAAH,kBAAXyB,CAAAA,WAAW,yDAAjB,CASP,MAAO,IAAMC,CAAAA,mBAAmB,2FAAG,kBAAOjB,cAAP,CAAsB/B,QAAtB,gKACN+B,CAAAA,cAAc,CAAC7B,OAAf,CAAuB8C,mBAAvB,GACtB7C,IADsB,CACjB,CAAEC,IAAI,CAAEJ,QAAQ,CAAC,CAAD,CAAhB,CADiB,CADM,QAC7BiD,cAD6B,iDAG1BA,cAH0B,0DAAH,kBAAnBD,CAAAA,mBAAmB,oDAAzB,CAMP,MAAQ,IAAMb,CAAAA,QAAQ,2FAAG,kBAAOJ,cAAP,CAAuB/B,QAAvB,CAAiCC,OAAjC,mKAGR8B,CAAAA,cAAc,CAAC7B,OAAf,CACZiC,QADY,CACHlC,OADG,EAEZE,IAFY,CAEP,CAAEC,IAAI,CAAEJ,QAAQ,CAAC,CAAD,CAAhB,CAFO,CAHQ,QAGvBoC,MAHuB,gBAOvBc,UAAU,CAAG,CACTZ,MAAM,CAAGF,MAAM,CAACE,MADP,CAETC,KAAK,CAAIzD,QAAQ,CAACsD,MAAM,CAACG,KAAR,CAFR,CAGTC,KAAK,CAAI1D,QAAQ,CAACsD,MAAM,CAACI,KAAR,CAHR,CAITvC,OAAO,CAAEnB,QAAQ,CAACsD,MAAM,CAACnC,OAAR,CAJR,CAKTwC,MAAM,CAAGL,MAAM,CAACK,MALP,CAAb,CAPuB,iCAehBS,UAfgB,0DAAH,kBAARf,CAAAA,QAAQ,yDAAd,CAkBR,MAAO,IAAMgB,CAAAA,QAAQ,2FAAG,kBAAOpB,cAAP,CAAsB/B,QAAtB,CAA+BC,OAA/B,CAAuCmD,KAAvC,6IAChBrB,CAAAA,cAAc,CAAC7B,OAAf,CAAuBiD,QAAvB,CAAgClD,OAAhC,EAAyCoB,IAAzC,CAA8C,CAAEjB,IAAI,CAAEJ,QAAQ,CAAC,CAAD,CAAhB,CAAqBoD,KAAK,CAAEA,KAA5B,CAA9C,CADgB,yDAAH,kBAARD,CAAAA,QAAQ,8DAAd,CAIP,MAAQ,IAAME,CAAAA,cAAc,4FAAG,mBAAOtD,QAAP,CAAiBC,QAAjB,mKAGRD,CAAAA,QAAQ,CAACG,OAAT,CAAiBoD,WAAjB,GAA+BnD,IAA/B,CAAoC,CAAEC,IAAI,CAAEJ,QAAQ,CAAC,CAAD,CAAhB,CAApC,CAHQ,QAG7BuD,YAH6B,mDAKtBA,YALsB,4DAAH,kBAAdF,CAAAA,cAAc,qDAApB","sourcesContent":["export const  genesToDNA=(gene)=> {\n    let dna = {\n        dnaarmleg: parseInt(gene.slice(0,2)),\n        dnaeyepatch: parseInt(gene.slice(2,4)),\n        dnainnerearfoot: parseInt(gene.slice(4,6)),\n        dnaheadbody: parseInt(gene.slice(6,8)),\n        //Pandatributes\n        dnaeyeshape: parseInt(gene.slice(8,9)),\n        dnamouthshape: parseInt(gene.slice(9,10)),\n        decorationMidcolor: parseInt(gene.slice(10,12)),\n        decorationSidescolor: parseInt(gene.slice(12,14)),\n        animation: parseInt(gene.slice(14,15)),\n        lastNum: parseInt(gene.slice(15,16)),\n    }\n    return dna;\n}\n\nexport const  epochToUTCDate=(epochTime)=> {\n    \n    let date = new Date(epochTime*1000);\n    return date.toUTCString();\n}\n\nexport  const getPanda = async (contract, accounts, tokenId) => {\n  let _pandaItem, _panda;\n\n  _panda = await contract.methods\n    .getPanda(tokenId)\n    .call({ from: accounts[0] });\n\n  _pandaItem = {\n    pandaTokenId: parseInt(tokenId),\n    mumId: parseInt(_panda.mumId),\n    dadId: parseInt(_panda.dadId),\n    birthTime: parseInt(_panda.birthTime),\n    generation: parseInt(_panda.generation),\n    genes: parseInt(_panda.genes),\n    dna: genesToDNA(_panda.genes),\n  };\n\n  return _pandaItem;\n}\n\nexport  const getPandas = async (contract, accounts) => {\n    let _pandaList = [];\n    let _pandaItem;\n\n    \n    const PandaTokenIdArray = await contract.methods\n      ._pandasOfOwner(accounts[0])\n      .call({ from: accounts[0] }); \n\n    for (let i = 0; i < PandaTokenIdArray.length; i++) {\n      _pandaItem = await getPanda(contract, accounts, parseInt(PandaTokenIdArray[i]));\n      _pandaList.push(_pandaItem);\n    }\n\n    return _pandaList;\n};\n\nexport const createPandaGen0 = (contract,accounts,dna) =>{\n  contract.methods\n  .createPandaGen0(dna)\n  .send({ from: accounts[0] }, (error, txHash) => {\n    if (error) {\n      console.log(error);\n    } \n  })\n};  \n\nexport const breed = (contract,accounts,mumTokenId, dadTokenId) =>{\n  contract.methods.breed(mumTokenId,dadTokenId)\n      .send({ from: accounts[0] }, (error, txHash) => {\n        if (error) {\n          console.log(error);\n        }\n      });\n};\n\nexport  const getMarketOffers = async (pandaContract,marketContract, accounts) => {\n  let _marketOfferList = [];\n  let _marketOfferItem;\n\n  let marketOffersArray = await marketContract.methods\n    .getAllTokenOnSale()\n    .call({ from: accounts[0] });\n\n  for (let i =0; i < marketOffersArray.length; i++) {\n    let _offer = await marketContract.methods\n      .getOffer(marketOffersArray[i])\n      .call({ from: accounts[0] });\n\n    let _panda = await pandaContract.methods\n      .getPanda(_offer.tokenId)\n      .call({ from: accounts[0] });\n\n      _marketOfferItem = {\n        seller:_offer.seller,\n        price:parseInt(_offer.price),\n        index:_offer.index,\n        tokenId:parseInt(_offer.tokenId),\n        active:_offer.active,    \n        mumId: parseInt(_panda.mumId),\n        dadId: parseInt(_panda.dadId),\n        birthTime: parseInt(_panda.birthTime),\n        generation: parseInt(_panda.generation),\n        genes: parseInt(_panda.genes),\n        dna: genesToDNA(_panda.genes),\n      };\n      if(_marketOfferItem.active===true){\n        _marketOfferList.push(_marketOfferItem);\n      }\n  }\n  return _marketOfferList;\n};\n\nexport const setApprovalForAll = async (contract,marketContract,accounts,approvalFlag) =>{\n  try{\n    \n    await contract.methods.setApprovalForAll(marketContract.options.address,approvalFlag)\n      .send({ from: accounts[0]});\n  }\n  catch(e){\n    console.log(\"Error when setting approval\",e);\n  }\n};\n\nexport const setOffer = async (marketContract,accounts,price,tokenId) =>{\n  await marketContract.methods.setOffer(price,tokenId)\n      .send({ from: accounts[0] }, (error) => {\n\n        if (error) {\n          console.log(error);\n        } \n      });\n};\n\nexport const removeOffer = async (marketContract,accounts,tokenId) =>{\n  await marketContract.methods.removeOffer(tokenId)\n      .send({ from: accounts[0] }, (error) => {\n        if (error) {\n          console.log(error);\n        } \n      });\n};\n\nexport const getActiveOfferCount = async (marketContract,accounts) =>{\n  let numberOfOffers = await marketContract.methods.getActiveOfferCount()\n      .call({ from: accounts[0] });\n  return numberOfOffers;\n};\n\nexport  const getOffer = async (marketContract, accounts, tokenId) => {\n  let _offer,_offerItem;\n\n  _offer = await marketContract.methods\n    .getOffer(tokenId)\n    .call({ from: accounts[0] });\n\n  _offerItem = {\n      seller : _offer.seller,\n      price  : parseInt(_offer.price),\n      index  : parseInt(_offer.index),\n      tokenId: parseInt(_offer.tokenId),\n      active : _offer.active,\n  };\n\n  return _offerItem;\n}\n\nexport const buyPanda = async (marketContract,accounts,tokenId,value)=>{\n  await marketContract.methods.buyPanda(tokenId).send({ from: accounts[0] ,value: value});\n}\n\nexport  const getTotalSupply = async (contract, accounts) => {\n  let _totalSupply;\n\n  _totalSupply = await contract.methods.totalSupply().call({ from: accounts[0] });\n\n  return _totalSupply;\n}"]},"metadata":{},"sourceType":"module"}